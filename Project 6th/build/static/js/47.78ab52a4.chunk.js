"use strict";(self.webpackChunknews_aggregator=self.webpackChunknews_aggregator||[]).push([[47],{47:(e,t,a)=>{a.r(t),a.d(t,{default:()=>d});var s=a(8),l=a(43),n=a(66),r=a(579);const d=()=>{const{user:e,updateUser:t}=(0,n.A)(),[a,d]=(0,l.useState)(!1),[c,i]=(0,l.useState)({full_name:(null===e||void 0===e?void 0:e.full_name)||"",email:(null===e||void 0===e?void 0:e.email)||""}),[m,o]=(0,l.useState)(""),[x,u]=(0,l.useState)(""),[h,b]=(0,l.useState)(!1),g=e=>{i((0,s.A)((0,s.A)({},c),{},{[e.target.name]:e.target.value}))};return e?(0,r.jsx)("div",{className:"container mx-auto px-4 py-8",children:(0,r.jsxs)("div",{className:"max-w-2xl mx-auto",children:[(0,r.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-8",children:"Account Settings"}),m&&(0,r.jsx)("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded mb-6",children:m}),x&&(0,r.jsx)("div",{className:"bg-green-50 border border-green-200 text-green-700 px-4 py-3 rounded mb-6",children:x}),(0,r.jsxs)("div",{className:"bg-white shadow rounded-lg p-6",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,r.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:"Profile Information"}),(0,r.jsx)("button",{onClick:()=>d(!a),className:"px-4 py-2 text-sm font-medium text-white bg-accent-600 hover:bg-accent-700 rounded-md",children:a?"Cancel":"Edit"})]}),a?(0,r.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),o(""),u(""),b(!0);try{await t(c),u("Profile updated successfully!"),d(!1)}catch(l){var a,s;o((null===(a=l.response)||void 0===a||null===(s=a.data)||void 0===s?void 0:s.detail)||"Failed to update profile")}finally{b(!1)}},className:"space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"username",className:"block text-sm font-medium text-gray-700",children:"Username"}),(0,r.jsx)("input",{type:"text",id:"username",value:e.username,disabled:!0,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm bg-gray-50 text-gray-500"}),(0,r.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"Username cannot be changed"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email"}),(0,r.jsx)("input",{type:"email",id:"email",name:"email",value:c.email,onChange:g,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-accent-500 focus:border-accent-500"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"full_name",className:"block text-sm font-medium text-gray-700",children:"Full Name"}),(0,r.jsx)("input",{type:"text",id:"full_name",name:"full_name",value:c.full_name,onChange:g,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-accent-500 focus:border-accent-500"})]}),(0,r.jsxs)("div",{className:"flex justify-end space-x-3",children:[(0,r.jsx)("button",{type:"button",onClick:()=>d(!1),className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-md",children:"Cancel"}),(0,r.jsx)("button",{type:"submit",disabled:h,className:"px-4 py-2 text-sm font-medium text-white bg-accent-600 hover:bg-accent-700 rounded-md disabled:opacity-50",children:h?"Saving...":"Save Changes"})]})]}):(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Username"}),(0,r.jsx)("p",{className:"mt-1 text-sm text-gray-900",children:e.username})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Email"}),(0,r.jsx)("p",{className:"mt-1 text-sm text-gray-900",children:e.email})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Full Name"}),(0,r.jsx)("p",{className:"mt-1 text-sm text-gray-900",children:e.full_name||"Not provided"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Account Status"}),(0,r.jsxs)("p",{className:"mt-1 text-sm text-gray-900",children:[e.is_active?"Active":"Inactive"," \u2022 ",e.is_verified?"Verified":"Not verified"]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Member Since"}),(0,r.jsx)("p",{className:"mt-1 text-sm text-gray-900",children:new Date(e.created_at).toLocaleDateString()})]})]})]})]})}):(0,r.jsx)("div",{className:"container mx-auto px-4 py-8",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Please log in"}),(0,r.jsx)("p",{className:"mt-4 text-gray-600",children:"You need to be logged in to view your account."})]})})}}}]);
//# sourceMappingURL=47.78ab52a4.chunk.js.map