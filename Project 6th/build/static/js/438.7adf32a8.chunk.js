"use strict";(self.webpackChunknews_aggregator=self.webpackChunknews_aggregator||[]).push([[438],{438:(e,r,t)=>{t.r(r),t.d(r,{default:()=>i});var s=t(43),l=t(907),o=t(722),a=t(642),n=t(579);const i=()=>{var e;const[r,t]=(0,s.useState)(1),{data:i,isLoading:d,error:c}=(0,l.useQuery)(["clusters",r],(async()=>{const e=await o.A.get("http://localhost:8000/api/clusters",{params:{page:r,limit:10}});return console.log("Fetched ".concat(e.data.clusters.length," clusters for page ").concat(r)),e.data.clusters.forEach((e=>{console.log("Cluster ".concat(e.name,": ").concat(e.articles.length," articles"))})),e.data}),{retry:1,staleTime:3e5});return d?(0,n.jsxs)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"16rem"},children:[(0,n.jsx)("div",{style:{width:"3rem",height:"3rem",border:"4px solid #e0f2fe",borderTop:"4px solid #1d4ed8",borderRadius:"50%",animation:"spin 1s linear infinite"}}),(0,n.jsx)("style",{children:"\n          @keyframes spin {\n            0% { transform: rotate(0deg); }\n            100% { transform: rotate(360deg); }\n          }\n        "})]}):c||null===i||void 0===i||null===(e=i.clusters)||void 0===e||!e.length?(0,n.jsxs)("div",{style:{textAlign:"center",paddingTop:"3rem",paddingBottom:"3rem"},children:[(0,n.jsx)("div",{style:{color:"#374151",marginBottom:"1rem",fontSize:"1.25rem"},children:c?"Error loading clusters. Please try again later.":"No clusters found."}),(0,n.jsx)("button",{onClick:()=>window.location.reload(),style:{backgroundColor:"#1d4ed8",color:"#ffffff",padding:"0.5rem 1rem",borderRadius:"0.375rem",fontWeight:"600",cursor:"pointer",transition:"background-color 0.3s ease"},onMouseOver:e=>e.currentTarget.style.backgroundColor="#1e40af",onMouseOut:e=>e.currentTarget.style.backgroundColor="#1d4ed8",children:"Retry"})]}):(0,n.jsxs)("div",{style:{marginTop:"2rem",marginBottom:"2rem"},children:[(0,n.jsx)("h2",{style:{fontSize:"1.875rem",fontWeight:"700",color:"#1f2937",marginBottom:"2rem"},children:"News Clusters"}),i.clusters.map((e=>(0,n.jsxs)("div",{style:{marginBottom:"3rem"},children:[(0,n.jsx)("h3",{style:{fontSize:"1.5rem",fontWeight:"600",color:"#1f2937",marginBottom:"1rem"},children:e.name}),(0,n.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(320px, 1fr))",gap:"1.5rem",width:"100%",boxSizing:"border-box"},children:e.articles.map((e=>(0,n.jsx)(a.A,{article:e},e.id)))})]},e.id))),(0,n.jsxs)("div",{style:{display:"flex",justifyContent:"center",gap:"1rem",marginTop:"2rem"},children:[(0,n.jsx)("button",{style:{backgroundColor:"#e5e7eb",color:"#374151",padding:"0.5rem 1rem",borderRadius:"0.375rem",cursor:1===r?"not-allowed":"pointer",opacity:1===r?.5:1},disabled:1===r,onClick:()=>t(r-1),children:"Previous"}),(0,n.jsxs)("span",{style:{lineHeight:"2rem"},children:["Page ",(null===i||void 0===i?void 0:i.page)||1," of ",(null===i||void 0===i?void 0:i.totalPages)||1]}),(0,n.jsx)("button",{style:{backgroundColor:"#e5e7eb",color:"#374151",padding:"0.5rem 1rem",borderRadius:"0.375rem",cursor:r===((null===i||void 0===i?void 0:i.totalPages)||1)?"not-allowed":"pointer",opacity:r===((null===i||void 0===i?void 0:i.totalPages)||1)?.5:1},disabled:r===((null===i||void 0===i?void 0:i.totalPages)||1),onClick:()=>t(r+1),children:"Next"})]})]})}},642:(e,r,t)=>{t.d(r,{A:()=>o});t(43);var s=t(579);const l=document.createElement("style");l.innerText="\n  .news-card-inner:hover {\n    transform: rotateY(180deg);\n  }\n",document.head.appendChild(l);const o=e=>{let{article:r,highlightSummary:t}=e;return(0,s.jsxs)("div",{className:"w-full h-80 relative bg-white rounded-xl shadow-lg p-6 flex flex-col justify-between hover:shadow-2xl transition-shadow border border-blue-100",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-xl font-bold text-gray-800 mb-2 text-center",children:r.title}),(0,s.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,s.jsx)("span",{className:"text-xs text-gray-400",children:r.source}),(0,s.jsx)("span",{className:"text-xs text-gray-400",children:new Date(r.publishedAt).toLocaleDateString()})]}),t&&r.summary&&(0,s.jsxs)("div",{className:"mt-4 p-4 bg-blue-50 border-l-4 border-blue-400 rounded relative",children:[(0,s.jsx)("span",{className:"absolute -top-3 left-2 bg-blue-400 text-white text-xs px-2 py-0.5 rounded shadow",children:"Summary"}),(0,s.jsx)("p",{className:"text-gray-700 text-sm mt-2 whitespace-pre-line",children:r.summary})]}),!t&&r.summary&&(0,s.jsx)("p",{className:"text-gray-700 text-sm mt-2 whitespace-pre-line",children:r.summary})]}),(0,s.jsx)("div",{className:"flex justify-end mt-4",children:(0,s.jsx)("a",{href:r.url,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline font-semibold",children:"Read More"})})]})}}}]);
//# sourceMappingURL=438.7adf32a8.chunk.js.map