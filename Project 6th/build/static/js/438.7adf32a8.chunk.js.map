{"version":3,"file":"static/js/438.7adf32a8.chunk.js","mappings":"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","sources":["pages/Clusters.tsx","components/NewsCard.tsx"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { useQuery } from 'react-query';\r\nimport axios from 'axios';\r\nimport NewsCard from '../components/NewsCard';\r\n\r\ninterface NewsArticle {\r\n  id: string;\r\n  title: string;\r\n  description: string;\r\n  url: string;\r\n  source: string;\r\n  publishedAt: string;\r\n  summary?: string;\r\n  category?: string;\r\n}\r\n\r\ninterface Cluster {\r\n  id: string;\r\n  name: string;\r\n  articles: NewsArticle[];\r\n}\r\n\r\ninterface ClusterResponse {\r\n  clusters: Cluster[];\r\n  total: number;\r\n  page: number;\r\n  limit: number;\r\n  totalPages: number;\r\n}\r\n\r\nconst Clusters: React.FC = () => {\r\n  const [page, setPage] = useState(1);\r\n  const limit = 10;\r\n\r\n  const { data, isLoading, error } = useQuery<ClusterResponse>(\r\n    ['clusters', page],\r\n    async () => {\r\n      const response = await axios.get('http://localhost:8000/api/clusters', {\r\n        params: { page, limit },\r\n      });\r\n      console.log(`Fetched ${response.data.clusters.length} clusters for page ${page}`);\r\n      response.data.clusters.forEach((cluster: Cluster) => {\r\n        console.log(`Cluster ${cluster.name}: ${cluster.articles.length} articles`);\r\n      });\r\n      return response.data;\r\n    },\r\n    {\r\n      retry: 1,\r\n      staleTime: 5 * 60 * 1000,\r\n    }\r\n  );\r\n\r\n  if (isLoading) {\r\n    return (\r\n      <div style={{\r\n        display: 'flex',\r\n        justifyContent: 'center',\r\n        alignItems: 'center',\r\n        height: '16rem',\r\n      }}>\r\n        <div style={{\r\n          width: '3rem',\r\n          height: '3rem',\r\n          border: '4px solid #e0f2fe',\r\n          borderTop: '4px solid #1d4ed8',\r\n          borderRadius: '50%',\r\n          animation: 'spin 1s linear infinite',\r\n        }}></div>\r\n        <style>{`\r\n          @keyframes spin {\r\n            0% { transform: rotate(0deg); }\r\n            100% { transform: rotate(360deg); }\r\n          }\r\n        `}</style>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (error || !data?.clusters?.length) {\r\n    return (\r\n      <div style={{\r\n        textAlign: 'center',\r\n        paddingTop: '3rem',\r\n        paddingBottom: '3rem',\r\n      }}>\r\n        <div style={{\r\n          color: '#374151',\r\n          marginBottom: '1rem',\r\n          fontSize: '1.25rem',\r\n        }}>\r\n          {error ? \"Error loading clusters. Please try again later.\" : \"No clusters found.\"}\r\n        </div>\r\n        <button onClick={() => window.location.reload()} style={{\r\n          backgroundColor: '#1d4ed8',\r\n          color: '#ffffff',\r\n          padding: '0.5rem 1rem',\r\n          borderRadius: '0.375rem',\r\n          fontWeight: '600',\r\n          cursor: 'pointer',\r\n          transition: 'background-color 0.3s ease',\r\n        }}\r\n        onMouseOver={(e) => e.currentTarget.style.backgroundColor = '#1e40af'}\r\n        onMouseOut={(e) => e.currentTarget.style.backgroundColor = '#1d4ed8'}\r\n        >\r\n          Retry\r\n        </button>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div style={{ marginTop: '2rem', marginBottom: '2rem' }}>\r\n      <h2 style={{\r\n        fontSize: '1.875rem',\r\n        fontWeight: '700',\r\n        color: '#1f2937',\r\n        marginBottom: '2rem',\r\n      }}>\r\n        News Clusters\r\n      </h2>\r\n      {data.clusters.map((cluster) => (\r\n        <div key={cluster.id} style={{ marginBottom: '3rem' }}>\r\n          <h3 style={{\r\n            fontSize: '1.5rem',\r\n            fontWeight: '600',\r\n            color: '#1f2937',\r\n            marginBottom: '1rem',\r\n          }}>\r\n            {cluster.name}\r\n          </h3>\r\n          <div style={{\r\n            display: 'grid',\r\n            gridTemplateColumns: 'repeat(auto-fit, minmax(320px, 1fr))',\r\n            gap: '1.5rem',\r\n            width: '100%',\r\n            boxSizing: 'border-box',\r\n          }}>\r\n            {cluster.articles.map((article) => (\r\n              <NewsCard key={article.id} article={article} />\r\n            ))}\r\n          </div>\r\n        </div>\r\n      ))}\r\n      <div style={{\r\n        display: 'flex',\r\n        justifyContent: 'center',\r\n        gap: '1rem',\r\n        marginTop: '2rem',\r\n      }}>\r\n        <button\r\n          style={{\r\n            backgroundColor: '#e5e7eb',\r\n            color: '#374151',\r\n            padding: '0.5rem 1rem',\r\n            borderRadius: '0.375rem',\r\n            cursor: page === 1 ? 'not-allowed' : 'pointer',\r\n            opacity: page === 1 ? 0.5 : 1,\r\n          }}\r\n          disabled={page === 1}\r\n          onClick={() => setPage(page - 1)}\r\n        >\r\n          Previous\r\n        </button>\r\n        <span style={{ lineHeight: '2rem' }}>\r\n          Page {data?.page || 1} of {data?.totalPages || 1}\r\n        </span>\r\n        <button\r\n          style={{\r\n            backgroundColor: '#e5e7eb',\r\n            color: '#374151',\r\n            padding: '0.5rem 1rem',\r\n            borderRadius: '0.375rem',\r\n            cursor: page === (data?.totalPages || 1) ? 'not-allowed' : 'pointer',\r\n            opacity: page === (data?.totalPages || 1) ? 0.5 : 1,\r\n          }}\r\n          disabled={page === (data?.totalPages || 1)}\r\n          onClick={() => setPage(page + 1)}\r\n        >\r\n          Next\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Clusters;","import React from 'react';\r\n\r\ninterface NewsArticle {\r\n  id: string;\r\n  title: string;\r\n  description: string;\r\n  url: string;\r\n  source: string;\r\n  publishedAt: string;\r\n  summary?: string;\r\n  cluster?: number;\r\n  imageUrl?: string;\r\n}\r\n\r\ninterface NewsCardProps {\r\n  article: NewsArticle;\r\n  highlightSummary?: boolean;\r\n}\r\n\r\nconst NewsCard: React.FC<NewsCardProps> = ({ article, highlightSummary }) => {\r\n  return (\r\n    <div\r\n      className=\"w-full h-80 relative bg-white rounded-xl shadow-lg p-6 flex flex-col justify-between hover:shadow-2xl transition-shadow border border-blue-100\"\r\n    >\r\n      <div>\r\n        <h3 className=\"text-xl font-bold text-gray-800 mb-2 text-center\">{article.title}</h3>\r\n        <div className=\"flex justify-between items-center mb-2\">\r\n          <span className=\"text-xs text-gray-400\">{article.source}</span>\r\n          <span className=\"text-xs text-gray-400\">{new Date(article.publishedAt).toLocaleDateString()}</span>\r\n        </div>\r\n        {highlightSummary && article.summary && (\r\n          <div className=\"mt-4 p-4 bg-blue-50 border-l-4 border-blue-400 rounded relative\">\r\n            <span className=\"absolute -top-3 left-2 bg-blue-400 text-white text-xs px-2 py-0.5 rounded shadow\">Summary</span>\r\n            <p className=\"text-gray-700 text-sm mt-2 whitespace-pre-line\">{article.summary}</p>\r\n          </div>\r\n        )}\r\n        {!highlightSummary && article.summary && (\r\n          <p className=\"text-gray-700 text-sm mt-2 whitespace-pre-line\">{article.summary}</p>\r\n        )}\r\n      </div>\r\n      <div className=\"flex justify-end mt-4\">\r\n        <a\r\n          href={article.url}\r\n          target=\"_blank\"\r\n          rel=\"noopener noreferrer\"\r\n          className=\"text-blue-600 hover:underline font-semibold\"\r\n        >\r\n          Read More\r\n        </a>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\n// Add CSS for hover effect in a style tag\r\nconst styles = `\r\n  .news-card-inner:hover {\r\n    transform: rotateY(180deg);\r\n  }\r\n`;\r\n\r\n// Inject styles into the document\r\nconst styleSheet = document.createElement('style');\r\nstyleSheet.innerText = styles;\r\ndocument.head.appendChild(styleSheet);\r\n\r\nexport default NewsCard;"],"names":["Clusters","_data$clusters","page","setPage","useState","data","isLoading","error","useQuery","async","response","axios","get","params","limit","console","log","concat","clusters","length","forEach","cluster","name","articles","retry","staleTime","_jsxs","style","display","justifyContent","alignItems","height","children","_jsx","width","border","borderTop","borderRadius","animation","textAlign","paddingTop","paddingBottom","color","marginBottom","fontSize","onClick","window","location","reload","backgroundColor","padding","fontWeight","cursor","transition","onMouseOver","e","currentTarget","onMouseOut","marginTop","map","gridTemplateColumns","gap","boxSizing","article","NewsCard","id","opacity","disabled","lineHeight","totalPages","styleSheet","document","createElement","innerText","head","appendChild","_ref","highlightSummary","className","title","source","Date","publishedAt","toLocaleDateString","summary","href","url","target","rel"],"sourceRoot":""}