"use strict";(self.webpackChunknews_aggregator=self.webpackChunknews_aggregator||[]).push([[954],{642:(e,t,a)=>{a.d(t,{A:()=>l});a(43);var s=a(579);const r=document.createElement("style");r.innerText="\n  .news-card-inner:hover {\n    transform: rotateY(180deg);\n  }\n",document.head.appendChild(r);const l=e=>{let{article:t,highlightSummary:a}=e;return(0,s.jsxs)("div",{className:"w-full h-80 relative bg-white rounded-xl shadow-lg p-6 flex flex-col justify-between hover:shadow-2xl transition-shadow border border-blue-100",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-xl font-bold text-gray-800 mb-2 text-center",children:t.title}),(0,s.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,s.jsx)("span",{className:"text-xs text-gray-400",children:t.source}),(0,s.jsx)("span",{className:"text-xs text-gray-400",children:new Date(t.publishedAt).toLocaleDateString()})]}),a&&t.summary&&(0,s.jsxs)("div",{className:"mt-4 p-4 bg-blue-50 border-l-4 border-blue-400 rounded relative",children:[(0,s.jsx)("span",{className:"absolute -top-3 left-2 bg-blue-400 text-white text-xs px-2 py-0.5 rounded shadow",children:"Summary"}),(0,s.jsx)("p",{className:"text-gray-700 text-sm mt-2 whitespace-pre-line",children:t.summary})]}),!a&&t.summary&&(0,s.jsx)("p",{className:"text-gray-700 text-sm mt-2 whitespace-pre-line",children:t.summary})]}),(0,s.jsx)("div",{className:"flex justify-end mt-4",children:(0,s.jsx)("a",{href:t.url,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline font-semibold",children:"Read More"})})]})}},954:(e,t,a)=>{a.r(t),a.d(t,{default:()=>u});var s=a(8),r=a(43),l=a(907),n=a(722),i=a(642),o=a(66),d=a(291),c=a(672),m=a(579);const u=()=>{const{user:e}=(0,o.A)(),[t,a]=(0,r.useState)(1),[u,x]=(0,r.useState)(!1),h=e?(0,d.oE)(e.username):[];(0,r.useEffect)((()=>{e&&0===h.length&&x(!0)}),[e,h]);const{data:g,isLoading:p,error:b}=(0,l.useQuery)(["news",h,t],(async()=>{const e=await n.A.get("http://localhost:8000/api/news",{params:{categories:h.length>0?h.join(","):void 0,page:t,limit:10}}),a=e.data.articles;if(!a||0===a.length)return{articles:[],total:0,page:t,limit:10,totalPages:0};const r=a.map((e=>"No description available"!==e.description?e.description:e.title)),l=(await n.A.post("http://localhost:8000/summarize",{texts:r})).data.results||[],i=a.map(((e,t)=>{var a;return(0,s.A)((0,s.A)({},e),{},{summary:(null===(a=l[t])||void 0===a?void 0:a.summary)||"Unable to generate summary"})}));return(0,s.A)((0,s.A)({},e.data),{},{articles:i})}),{retry:1,staleTime:3e5}),y=(null===g||void 0===g?void 0:g.articles)||[];return p?(0,m.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,m.jsx)("div",{className:"w-12 h-12 border-4 border-blue-200 border-t-blue-600 rounded-full animate-spin"})}):b||0===y.length?(0,m.jsxs)("div",{className:"text-center py-12",children:[(0,m.jsx)("div",{className:"text-gray-700 mb-4 text-xl",children:b?"Error loading news or summaries. Please try again later.":"No articles found for your preferences."}),(0,m.jsx)("button",{onClick:()=>window.location.reload(),className:"bg-blue-600 text-white px-4 py-2 rounded font-semibold hover:bg-blue-700 transition",children:"Retry"})]}):(0,m.jsxs)("div",{className:"my-8",children:[(0,m.jsx)("h2",{className:"text-3xl font-bold text-gray-800 mb-8",children:"Latest News"}),(0,m.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 w-full",children:y.map((e=>(0,m.jsx)(i.A,{article:e,highlightSummary:!0},e.id)))}),(0,m.jsxs)("div",{className:"flex justify-center gap-4 mt-8",children:[(0,m.jsx)("button",{className:"bg-gray-200 text-gray-700 px-4 py-2 rounded ".concat(1===t?"opacity-50 cursor-not-allowed":"hover:bg-gray-300"),disabled:1===t,onClick:()=>a(t-1),children:"Previous"}),(0,m.jsxs)("span",{className:"leading-8",children:["Page ",(null===g||void 0===g?void 0:g.page)||1," of ",(null===g||void 0===g?void 0:g.totalPages)||1]}),(0,m.jsx)("button",{className:"bg-gray-200 text-gray-700 px-4 py-2 rounded ".concat(t===((null===g||void 0===g?void 0:g.totalPages)||1)?"opacity-50 cursor-not-allowed":"hover:bg-gray-300"),disabled:t===((null===g||void 0===g?void 0:g.totalPages)||1),onClick:()=>a(t+1),children:"Next"})]}),u&&(0,m.jsx)(c.A,{onClose:()=>x(!1)})]})}}}]);
//# sourceMappingURL=954.7a105bef.chunk.js.map